<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Parking Dashboard</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body class="dark-mode">
    <div class="app-container">
        <!-- Side Navigation Panel -->
        <nav class="sidebar">
            <div class="sidebar-header">
                <h3><i class="fas fa-car-side"></i> SmartPark</h3>
            </div>
            <ul class="sidebar-menu">
                <!-- Links now have data-lot attributes -->
                <li><a href="#" class="nav-link active" data-target="live-view" data-lot="parking"><i class="fas fa-video"></i> <span>Live View</span></a></li>
                <li><a href="#" class="nav-link" data-target="cctv-view" data-lot="CCTV_parking"><i class="fas fa-camera-retro"></i> <span>CCTV View</span></a></li>
                <li><a href="#" class="nav-link" data-target="analytics"><i class="fas fa-chart-line"></i> <span>Analytics</span></a></li>
                <li><a href="#" class="nav-link" data-target="pricing"><i class="fas fa-dollar-sign"></i> <span>Pricing</span></a></li>
                <li><a href="#" class="nav-link" data-target="sos-view"><i class="fas fa-exclamation-triangle"></i> <span>SOS Alerts</span></a></li>
            </ul>
            <div class="theme-switcher">
                 <span>Light</span>
                 <input type="checkbox" id="theme-toggle" class="theme-toggle-checkbox" checked>
                 <label for="theme-toggle" class="theme-toggle-label"></label>
                 <span>Dark</span>
            </div>
        </nav>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Live View Page -->
            <main id="live-view" class="page active">
                <header><h1>Live Parking Dashboard</h1></header>
                <section class="overview">
                     <div class="card">
                        <div class="card-content">
                            <h2>Total Slots</h2>
                            <p class="total-slots">--</p>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-content">
                            <h2>Available Slots</h2>
                            <p class="available-slots highlight">--</p>
                        </div>
                    </div>
                </section>
                <section class="parking-slots">
                    <h2>Parking Slots Status</h2>
                    <div class="slots-grid">
                        <div class="loader"></div>
                    </div>
                </section>
                <section class="logs">
                    <h2>Recent Activity</h2>
                    <ul class="log-list"></ul>
                </section>
            </main>

            <!-- CCTV View Page -->
            <main id="cctv-view" class="page">
                <header><h1>CCTV Parking Dashboard</h1></header>
                <section class="overview">
                    <div class="card">
                        <div class="card-content">
                            <h2>Total Slots</h2>
                            <p class="total-slots">--</p>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-content">
                            <h2>Available Slots</h2>
                            <p class="available-slots highlight">--</p>
                        </div>
                    </div>
                </section>
                <section class="parking-slots">
                    <h2>Parking Slots Status</h2>
                    <div class="slots-grid">
                        <div class="loader"></div>
                    </div>
                </section>
                <section class="logs">
                    <h2>Recent Activity</h2>
                    <ul class="log-list"></ul>
                </section>
            </main>

            <!-- Analytics & Charts Page -->
            <main id="analytics" class="page">
                <header><h1>Analytics & Charts</h1></header>
                <section class="analytics-grid">
                    <div class="chart-container">
                        <h3>Hourly Occupancy</h3>
                        <canvas id="hourlyChart"></canvas>
                    </div>
                    <div class="chart-container">
                        <h3>Daily Trends</h3>
                        <canvas id="dailyChart"></canvas>
                    </div>
                    <div class="chart-container">
                        <h3>Peak Hours</h3>
                        <canvas id="peakHoursChart"></canvas>
                    </div>
                </section>
            </main>

            <!-- Pricing Page -->
            <main id="pricing" class="page">
                <header><h1>Parking Rates</h1></header>
                <!-- Your pricing content here -->
            </main>
            
            <!-- SOS Alerts Page (NEW) -->
            <main id="sos-view" class="page">
                <header><h1>SOS Alerts</h1></header>
                <section class="sos-alerts-container">
                    <ul id="sos-log-list" class="log-list">
                        <p class="no-alerts-message">No active SOS alerts.</p>
                    </ul>
                </section>
            </main>
        </div>
    </div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
    <!-- Chart.js for Analytics -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- Your App's JavaScript -->
    <script src="app.js"></script>
</body>
</html>